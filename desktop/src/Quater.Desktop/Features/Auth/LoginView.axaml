<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Quater.Desktop.Features.Auth"
             xmlns:converters="clr-namespace:Quater.Desktop.Converters"
             mc:Ignorable="d"
             x:Class="Quater.Desktop.Features.Auth.LoginView"
             x:DataType="vm:LoginViewModel">

    <UserControl.Resources>
        <converters:BoolInvertConverter x:Key="BoolInvertConverter" />
        <converters:StringNotEmptyConverter x:Key="StringNotEmptyConverter" />
    </UserControl.Resources>

    <Grid HorizontalAlignment="Center" VerticalAlignment="Center" Width="420">
        <Border Padding="28" CornerRadius="12" Background="#FFFFFF" BorderBrush="#E3E6E8" BorderThickness="1">
            <StackPanel Spacing="16">
                <StackPanel Spacing="4">
                    <TextBlock Text="Quater" FontSize="24" FontWeight="Bold" />
                    <TextBlock Text="Sign in to continue" Opacity="0.7" />
                </StackPanel>

                <Button Content="Sign in with Quater" Command="{Binding SignInCommand}" IsEnabled="{Binding IsLoading, Converter={StaticResource BoolInvertConverter}}" />

                <TextBlock Text="Signing you in..." IsVisible="{Binding IsLoading}" Opacity="0.6" />
                <TextBlock Text="{Binding ErrorMessage}" Foreground="#C0392B" TextWrapping="Wrap" IsVisible="{Binding ErrorMessage, Converter={StaticResource StringNotEmptyConverter}}" />
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
